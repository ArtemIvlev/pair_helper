# üöÄ –°–±–æ—Ä–∫–∞ –∏ –¥–µ–ø–ª–æ–π Pair Helper

## –û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π build.sh

–í–∞—à —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–∫—Ä–∏–ø—Ç `build.sh` —Ç–µ–ø–µ—Ä—å –≤–∫–ª—é—á–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤—Å–µ –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ workflow.

## üîß –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### –û–±—ã—á–Ω–∞—è —Å–±–æ—Ä–∫–∞ (—Å –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏)
```bash
./build.sh
```

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞ (–±–µ–∑ –ø—Ä–æ–≤–µ—Ä–æ–∫)
```bash
./build.sh --skip-security-checks
```

## üõ°Ô∏è –ß—Ç–æ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è

### –ü–µ—Ä–µ–¥ —Å–±–æ—Ä–∫–æ–π:
- ‚úÖ –ù–∞–ª–∏—á–∏–µ –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å `.env` —Ñ–∞–π–ª–∞
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ SECRET_KEY –Ω–∞ –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ TELEGRAM_BOT_TOKEN –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ DATABASE_URL –Ω–∞ –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ —Å–µ–∫—Ä–µ—Ç–æ–≤ –≤ Git –∏—Å—Ç–æ—Ä–∏–∏
- ‚úÖ –î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å Docker

### –ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ TrueNAS API
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ backend
- ‚úÖ –í—ã–≤–æ–¥ —Å—Å—ã–ª–æ–∫ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–µ—Ä–≤–∏—Å–æ–≤

## üé® –ù–æ–≤—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –¶–≤–µ—Ç–Ω–æ–π –≤—ã–≤–æ–¥
- üî¥ **–ö—Ä–∞—Å–Ω—ã–π** - –æ—à–∏–±–∫–∏ (–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç —Å–±–æ—Ä–∫—É)
- üü° **–ñ–µ–ª—Ç—ã–π** - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (–Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç)
- üü¢ **–ó–µ–ª–µ–Ω—ã–π** - —É—Å–ø–µ—à–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏
- üîµ **–°–∏–Ω–∏–π** - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–æ–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è

### –£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–≤–µ—Ç–∞ TrueNAS API
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- –ò–Ω—Ñ–æ—Ä–º–∞—Ç–∏–≤–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

## üìã Workflow –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º

1. **–°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–æ–≤** (Backend, Bot, Frontend, Admin)
2. **–û—Ç–ø—Ä–∞–≤–∫–∞ –≤ registry** (192.168.2.228:5000)
3. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ TrueNAS API**
4. **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç–∏**

## ‚ö†Ô∏è –í–∞–∂–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è

### –¢—Ä–µ–±—É–µ—Ç—Å—è .env —Ñ–∞–π–ª
–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –¥–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω–∞:
```bash
cp docs/env.production.example .env
# –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ä–µ–∞–ª—å–Ω—ã–º–∏ –∑–Ω–∞—á–µ–Ω–∏—è–º–∏!
```

### –ü—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
–°–∫—Ä–∏–ø—Ç –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è, –µ—Å–ª–∏ –Ω–∞–π–¥–µ—Ç:
- –î–µ—Ñ–æ–ª—Ç–Ω—ã–µ –ø–∞—Ä–æ–ª–∏
- –ù–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- –û—Ç—Å—É—Ç—Å—Ç–≤–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω—ã–π —Ä–µ–∂–∏–º
–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--skip-security-checks` —Ç–æ–ª—å–∫–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö:
```bash
# –¢–û–õ–¨–ö–û –¥–ª—è —ç–∫—Å—Ç—Ä–µ–Ω–Ω—ã—Ö —Å–ª—É—á–∞–µ–≤!
./build.sh --skip-security-checks
```

## üîç –ü—Ä–∏–º–µ—Ä—ã –≤—ã–≤–æ–¥–∞

### –£—Å–ø–µ—à–Ω–∞—è —Å–±–æ—Ä–∫–∞:
```
üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É Docker –æ–±—Ä–∞–∑–æ–≤ Pair Helper...
‚ÑπÔ∏è  –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...
‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ—à–ª–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
‚úÖ –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –ø—Ä–æ–π–¥–µ–Ω—ã!

‚ÑπÔ∏è  –î–∞—Ç–∞ —Å–±–æ—Ä–∫–∏: 2024-01-15T10:30:00Z
‚ÑπÔ∏è  –°–æ–±–∏—Ä–∞–µ–º Docker –æ–±—Ä–∞–∑—ã...
‚ÑπÔ∏è  –°–æ–±–∏—Ä–∞–µ–º Backend...
...
‚úÖ üéâ –°–±–æ—Ä–∫–∞ –∏ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ Pair Helper –∑–∞–≤–µ—Ä—à–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ!

‚ÑπÔ∏è  –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–µ—Ä–≤–∏—Å—ã:
   ‚Ä¢ Backend:  https://gallery.homoludens.photos/pulse_of_pair/api/health
   ‚Ä¢ Frontend: https://gallery.homoludens.photos/pulse_of_pair/
   ‚Ä¢ Admin:    http://192.168.2.228:5001/
```

### –û—à–∏–±–∫–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏:
```
üöÄ –ù–∞—á–∏–Ω–∞–µ–º —Å–±–æ—Ä–∫—É Docker –æ–±—Ä–∞–∑–æ–≤ Pair Helper...
‚ÑπÔ∏è  –í—ã–ø–æ–ª–Ω—è–µ–º –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏...
‚ùå –û–®–ò–ë–ö–ê: SECRET_KEY —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ! –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π: openssl rand -hex 32
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### "SECRET_KEY —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
```bash
# –°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ –Ω–æ–≤—ã–π –∫–ª—é—á
openssl rand -hex 32

# –û–±–Ω–æ–≤–∏—Ç–µ .env —Ñ–∞–π–ª
echo "SECRET_KEY=–≤–∞—à_–Ω–æ–≤—ã–π_–∫–ª—é—á" >> .env
```

### "TELEGRAM_BOT_TOKEN —Å–æ–¥–µ—Ä–∂–∏—Ç –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ"
1. –ü–æ–ª—É—á–∏—Ç–µ —Ç–æ–∫–µ–Ω —É @BotFather
2. –û–±–Ω–æ–≤–∏—Ç–µ `.env` —Ñ–∞–π–ª

### "DATABASE_URL —Å–æ–¥–µ—Ä–∂–∏—Ç –Ω–µ–±–µ–∑–æ–ø–∞—Å–Ω—ã–π –ø–∞—Ä–æ–ª—å"
1. –°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ë–î: `psql -f scripts/change_db_password.sql`
2. –û–±–Ω–æ–≤–∏—Ç–µ DATABASE_URL –≤ `.env`

### –≠–∫—Å—Ç—Ä–µ–Ω–Ω–∞—è —Å–±–æ—Ä–∫–∞
```bash
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ —Å—Ä–æ—á–Ω–æ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å (–ù–ï —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
./build.sh --skip-security-checks
```

## üìà –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –≤–∞—à–∏–º —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º workflow
- ‚úÖ –í—Å–µ –≤–∞—à–∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ TrueNAS —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã
- ‚úÖ Registry –∏ –ø–æ—Ä—Ç—ã –æ—Å—Ç–∞–ª–∏—Å—å –ø—Ä–µ–∂–Ω–∏–º–∏
- ‚úÖ –ú–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç–∞—Ä—É—é –∫–æ–º–∞–Ω–¥—É `./build.sh`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω—ã —Ç–æ–ª—å–∫–æ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

–í–∞—à –ø—Ä–∏–≤—ã—á–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å —Å–±–æ—Ä–∫–∏ –æ—Å—Ç–∞–ª—Å—è —Ç–∞–∫–∏–º –∂–µ, –Ω–æ —Ç–µ–ø–µ—Ä—å —Å—Ç–∞–ª –±–µ–∑–æ–ø–∞—Å–Ω–µ–µ! üõ°Ô∏è

